(function(e,t){"use strict";Event.prototype.preventDefault||(Event.prototype.preventDefault=function(){this.returnValue=!1}),e.SBTS=e.SBTS||{},SBTS.bannerEverywhere=function(){function n(){var n;l=t.getElementById("sbts_banner_everywhere"),l&&(d=parseInt(l.getAttribute("data-banner_begin"),10),g=parseInt(l.getAttribute("data-banner_end"),10),b=parseInt(l.getAttribute("data-banner_now"),10));try{n=JSON.parse(e.localStorage.getItem("sbts_banner_everywhere"))||{},(n.started!==d||n.ending!==g)&&(n={},n.started=d,n.ending=g,n.dismissed=!1,e.localStorage.setItem("sbts_banner_everywhere",JSON.stringify(n)))}catch(r){}}function r(e,t,n){e.addEventListener?e.addEventListener(t,n,!1):e.attachEvent&&e.attachEvent("on"+t,n)}function a(){var t,n=!0;try{t=JSON.parse(e.localStorage.getItem("sbts_banner_everywhere")),t&&t.started===d&&t.ending===g&&t.dismissed===!0&&(n=!1)}catch(r){throw"Local Storage could not retrieve item."}return n&&b>d&&g>b}function s(){var n;l&&a()&&(n=t.getElementsByTagName("body")[0],n.insertBefore(l,n.firstChild),l.style.display="block",r(l.getElementsByTagName("a")[0],"click",function(t){var n;t.preventDefault(),l.style.display="none";try{n=JSON.parse(e.localStorage.getItem("sbts_banner_everywhere")),n.dismissed=!0,e.localStorage.setItem("sbts_banner_everywhere",JSON.stringify(n))}catch(r){throw"Local Storage could not add item."}}))}function o(){var t;try{t=e.localStorage.getItem("sbts_banner_everywhere")}catch(n){t=n}console.log("begin: "+d+"; now: "+b+"; end: "+g),console.log('localStorage("sbts_banner_everywhere"): '+(t||"undefined"))}function i(){return l}function c(){var t;try{t=JSON.parse(e.localStorage.getItem("sbts_banner_everywhere")),t.dismissed=!1,e.localStorage.setItem(JSON.stringify(t)),s()}catch(n){console.log("Could not reset dismissed: "+n)}}var l,d,g,b;return n(),s(),{active:a,debug:o,sbe:i,reset:c}}()})(window,document);